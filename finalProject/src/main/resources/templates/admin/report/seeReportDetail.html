<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="@{layouts/admin_layout}">
	
<!-- Content -->
<div layout:fragment="content">
		<div class="container">
			<form action="#" th:object="${reportVO}" method="post">
				<h5><b>신고내역 상세 조회</b></h5>
				<br><br>
				<div class="table-responsive">
					<h6>기본정보</h6>
					<br>
					<table id="defaultInfo" class="table">
						<tbody>
							<tr>
								<th width="150" align="center">신고<br>접수번호</th>
								<td width="400" align="center" th:text="*{reportId}"></td>
								<th width="150" align="center">신고한회원</th>
								<td width="400" align="center" th:text="*{reporterId}"></td>
							</tr>
							<tr>
								<th width="150" align="center">신고사유</th>
								<td width="400" align="center" th:text="*{reportReason}"></td>
								<th width="150" align="center">신고일자</th>
								<td width="400" align="center" th:text="*{#strings.substring(reportDate,0,10)}"></td>
							</tr>
							<tr>
								<th width="150" align="center">신고당한글</th>
								<!-- 작업중 -->
								<td width="400" align="center" th:utext="|*{postId}<br><a href='#'>원본글 보러가기</a>|"></td>
								<th width="150" align="center">신고<br>당한회원</th>
								<td width="400" align="center" th:utext="|*{punishedId} <br> (제재횟수 : *{punishCount})|"></td>
							</tr>
							<tr>
								<th width="150" align="center">신고내용</th>
								<td colspan="3" width="400" align="center" th:text="*{content}"></td>
							</tr>
						</tbody>
					</table>
				</div>
				<div align="center">
					<button type="button" class="feature-btn">제재 처리</button>
					<button type="button" class="feature-btn">제재 미처리</button>
					<button type="button" class="feature-btn">목록으로</button>
				</div>
			</form>
		</div>
	
	
	<script th:inline="javascript" type="text/javascript">
	
	console.log($($('button[type=button]')[2]));
	
	$(document).ready(function() {
		// 이벤트 설정
		//$('#searchButton').on('click', search);
		$($('button[type=button]')[0]).on('click', doPunish);
		$($('button[type=button]')[1]).on('click', invalidatePunish);
		$($('button[type=button]')[2]).on('click', returnToBeforePage);
	});
	
	// 이전페이지로 이동
	function returnToBeforePage(){
		location.href='/admin/seeAllReport';
	}
	
	// 제재 처리 실행
	function doPunish(event){
		$('form').attr('action','/admin/doPunish').submit();
	}
	
	</script>
	
</div>

</html>