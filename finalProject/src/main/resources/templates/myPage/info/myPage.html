<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="@{layouts/myPage_layout}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
$(document).ready(function(){
	let memPas = $('#memPassword').val();
	$('.btn-primary').click(function(){
		 let pass = document.getElementById('password');
		 let val = pass.value;
		 console.log(val);
		 console.log(memPas);
		 if(val == memPas){
			 location.href="myPageUpdate";
		 }else{
			 if(val == ""){
				 alert('비밀번호를 입력해주세요');
				 pass.focus();
			 }else{
				 alert('비밀번호를 다시 입력해주세요');
				 pass.value = '';
				 pass.focus();
			 }
		 }
		 
	});
	
});

</script>
</head>
<body>
	<div layout:fragment="content" style="text-align: center;">
		<div>
			<h3>내 정보</h3>
		</div>
		<form th:each="mem : ${memberInfo}">
		<input type="hidden" th:value=${mem.password} id="memPassword">
			<div>
				<label>이름</label> 
				<input type="text" th:value="${mem.memberName}"	readonly="readonly">
			</div>
			<div>
				<label>아이디</label>
				<input type="text" th:value="${mem.memberId}" readonly="readonly">
			</div>
			<div>
				<label>주소</label> 
				<input type="text" th:value="${mem.address}" readonly="readonly"><br>
				<label>상세주소</label>
				<input type="text" th:value="${mem.addressDetail}" readonly="readonly">
			</div>
			<div>
				<label>이메일</label>
				<input type="text" th:value="${mem.email}" readonly="readonly">
			</div>
			<div>
				<label>전화번호</label> <input type="text" th:value="${mem.phoneNumber}"
					readonly="readonly">
			</div>
			<div>
				<label>국적</label>
				<input type="text" th:value="${mem.nationality}" readonly="readonly">
			</div>
			<div>
				<label>성별</label>
				<th:block th:if="${mem.gender == 'G1'}">
				<input type="checkbox" checked onClick="return false;">남자
				<input type="checkbox" onClick="return false;">여자
				</th:block>
				<th:block th:if="${mem.gender == 'G2'}">
				<input type="checkbox" onClick="return false;">남자
				<input type="checkbox" checked onClick="return false;">여자
				</th:block>
			</div>
			<div>
				<label>생년월일</label>
				<input type="text" th:value="${mem.birthDate}" readonly="readonly">
			</div>
			<button type="button" data-toggle="modal" data-target="#exampleModal">수정하기</button>

			<!-- 모달 -->
			<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">비밀번호를 입력해주세요</h5>
							<button type="button" class="close" data-dismiss="modal"
								aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<input type="text" id="password">
						</div>
						<div class="modal-footer">
							<button type="button" class="btn-primary">완료</button>
							<button type="button" class="btn btn-secondary"
								data-dismiss="modal">취소하기</button>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</body>
</html>