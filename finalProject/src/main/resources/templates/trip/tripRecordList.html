<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="@{layouts/default_layout}">
<head>
<meta charset="UTF-8">
<meta name="description" content="Azenta Template">
<meta name="keywords" content="Azenta, unica, creative, html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>여행기록 전체 조회</title>
<!-- Google Font -->
<link
	href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900&display=swap"
	rel="stylesheet">
<!-- include jQuery :) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>

<!-- jQuery Modal -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.css" />
</head>
<body>
	<div layout:fragment="content">
		<!-- 페이지 제목 부분 -->
		<section class="breadcrumb-section">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<div class="breadcrumb-text">
							<h2>여행 기록</h2>
							<div class="col-lg-12">
								<div class="loadmore">								
									<!-- modal에 띄우고자하는 코드 -->
									<div id="test" class="modal" style="height: 400px; text-align: center;">
										<form name="sendData" action="tripRecordInsert" method="get">
  											<div style="margin-top: 40px;">
  												<h3>여행지역 선택</h3>
  												<select id="tripArea" name="tripArea">
  													<option value="대구" selected>대구
  													<option value="부산">부산
  													<option value="포항">포항
  													<option value="안동">안동
  													<option value="경주">경주
  													<option value="울산">울산
  													<option value="통영">통영
  													<option value="거제">거제
  												</select><br>
  											</div><br>
  											<div>
  												<h3>여행일정 선택</h3>
  												<input type="date" name="startDay"> ~ <input type="date" name="endDay">
  											</div><br>
  											<div style ="margin-top: 30px;"> 
  												<a href="#" rel="modal:close" class="primary-btn">닫기</a>
  												<button type="submit" class="primary-btn">여행일정 작성</button> 
  												<!-- <button type="button" onclick="location.href='tripRecordInsert'" class="primary-btn">여행일정 작성</button> -->
  												<!-- <a href="./tripRecordInsert" class="primary-btn">여행일정 작성</a> -->
											</div>
										</form>
									</div>
									<!-- href 속성값을 사용하여 modal을 띄워주는 링크 -->
									<a href="#test" rel="modal:open" class="primary-btn">여행기록 등록</a>
									<!-- <a href="./tripRecordInsert" class="primary-btn">여행기록 등록</a> -->
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- 여행기록 section-->
		<section class="blog-section blog-page spad">
			<div class="container">
				<div class="row">
					<div th:each="tripInfo : ${tripRecordList}" th:onclick="|location.href='@{/tripRecordInfo(postId=${tripInfo.postId})}'|"
						class="col-lg-4 col-md-6">
						<div class="single-blog-item">
							<div class="sb-pic">
								<img th:src="${tripInfo.writerId}" alt="이미지">
							</div>
							<div class="sb-text">
								<ul>
									<li>
										<i class="fa fa-user"></i>
										<span th:text="${tripInfo.writerId}"></span>
									</li>
									<li>
										<i class="fa fa-clock-o"></i>
										<span th:text="${#dates.format(tripInfo.registDay, 'yy년 MM월 dd일')}"></span>
									</li>
								</ul>
								<h5>
									<a th:text="${tripInfo.tripTitle}"></a>
								</h5>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- 여행기록 페이징 -->
			<div class="container" style="text-align: center">
				<th:block th:if="${paging.startPage != 1}">
					<a th:href="@{tripRecordList(nowPage=1, cntPerPage=${paging.cntPerPage})}"><<</a>
				</th:block>
				<th:block th:if="${paging.startPage != 1}">
					<a th:href="@{tripRecordList(nowPage=${paging.startPage - 1}, cntPerPage=${paging.cntPerPage})}">&lt;</a>
				</th:block>
				<th:block th:each="p : ${#numbers.sequence(paging.startPage, paging.endPage)}">
					<th:block th:if="${p eq paging.nowPage}">
						<b th:text="${p}"></b>
					</th:block>
					<th:block th:if="${p ne paging.nowPage}">
						<a th:href="@{tripRecordList(nowPage=${p}, cntPerPage=${paging.cntPerPage})}" th:text="${p}"></a>
					</th:block>
				</th:block>
				<th:block th:if="${paging.nowPage != paging.lastPage and paging.lastPage > 5}">
					<a th:href="@{tripRecordList(nowPage=${paging.endPage + 1}, cntPerPage=${paging.cntPerPage})}">&gt;</a>
				</th:block>
				<th:block th:if="${paging.endPage != paging.lastPage}">
					<a th:href="@{tripRecordList(nowPage=${paging.lastPage}, cntPerPage=${paging.cntPerPage})}">>></a>
				</th:block>
			</div>
		</section>
		<!-- 여행기록 section end -->
	</div>
	<script type="text/javascript">
/* 	//모달창 여행지역 데이터 넘기기
	$(document).ready(function(){
		$("#tripArea").change(function(){
			console.log("값변경테스트: " + $(this).val());
			$("#tripArea").val($(this).val());

		});
	 });
	
	//

	document.querySelector('form[name="sendForm"]').addEventListener('submit', function(e) {
		e.preventDefault();
		let startDay = document.getElementsByName('startDay')[0];
		let endDay = document.getElementsByName('endDay')[0];
		if (startDay.value == '') {
			alert('여행 일자를 선택해주세요.')
			startDay.focus();
			return;
		}
		if (endDay.value == '') {
			alert('여행 일자를 선택해주세요.')
			endDay.focus();
			return;
		}
		sendForm.submit();
	});	 */
	
	</script>
</body>
</html>