<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="@{layouts/default_layout}"> 
<head>
<title>메인화면</title>
<!-- getbootstrap cdn -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
            crossorigin="anonymous">
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>
<style>
  .moreSpecialties {
    display: inline-block;
    padding: 5px 10px;
    color: #2cbdb8; /* 링크의 글자색을 #2cbdb8로 지정 */
    text-decoration: none;
    border: 2px solid #2cbdb8; /* 링크 주변에 1px 두께의 테두리 추가 */
    font-weight: bold;
    font-size: 13px;
  }


  .moreSpecialties:hover {
    background-color: #2cbdb8; /* 호버 시 배경색 변경 */
    color: white; /* 호버 시 글자색을 흰색으로 변경 */
  }

  .linkButton {
      cursor: pointer;
  }
</style>
</head>
<body>
<div layout:fragment="content">
	    <!-- Hero Section Begin -->
    <section class="hero-section">
        <div class="hero-items owl-carousel">
            <div class="single-hero-item set-bg" data-setbg="img/main1.jpg">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-8 offset-lg-2">
                            <div class="hero-text">
                                <p class="room-location"><i class="icon_pin"></i> 경주</p>
                                <h2>경상도 지역 관광정보</h2>

                                <ul class="room-features" data-area-code="35" data-sigungu-code="2">
                                    <li class="linkButton" data-content-type-id="12">
                                        <i class="fa-solid fa-map-location-dot fa-lg" style="color: #2cbdb8;"></i>
                                        <p>경주 여행지</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="39">
                                        <i class="fa-solid fa-utensils fa-lg" style="color: #2cbdb8;"></i>
                                        <p>경주 맛집</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="38">
                                        <i class="fa-solid fa-bag-shopping fa-lg" style="color: #2cbdb8;"></i>
                                        <p>경주 쇼핑</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="14">
                                        <i class="fa-solid fa-icons fa-lg" style="color: #2cbdb8;"></i>
                                        <p>경주 문화시설</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="single-hero-item set-bg" data-setbg="img/main2.jpg">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-8 offset-lg-2">
                            <div class="hero-text">
                                <p class="room-location"><i class="icon_pin"></i> 대구</p>
                                <h2>경상도 지역 관광정보</h2>
                              
                                <ul class="room-features" data-area-code="4" data-sigungu-code="0">
                                    <li data-content-type-id="12">
                                        <i class="fa-solid fa-map-location-dot fa-lg" style="color: #2cbdb8;"></i>
                                        <p>대구 여행지</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="39">
                                        <i class="fa-solid fa-utensils fa-lg" style="color: #2cbdb8;"></i>
                                        <p>대구 맛집</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="38">
                                        <i class="fa-solid fa-bag-shopping fa-lg" style="color: #2cbdb8;"></i>
                                        <p>대구 쇼핑</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="14">
                                        <i class="fa-solid fa-icons fa-lg" style="color: #2cbdb8;"></i>
                                        <p>대구 문화시설</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="single-hero-item set-bg" data-setbg="img/main3.jpg">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-8 offset-lg-2">
                            <div class="hero-text">
                                <p class="room-location"><i class="icon_pin"></i> 안동</p>
                                <h2>경상도 지역 관광정보</h2>
                             
                                <ul class="room-features" data-area-code="35" data-sigungu-code="11">
                                    <li data-content-type-id="12">
                                        <i class="fa-solid fa-map-location-dot fa-lg" style="color: #2cbdb8;"></i>
                                        <p>안동 여행지</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="39">
                                        <i class="fa-solid fa-utensils fa-lg" style="color: #2cbdb8;"></i>
                                        <p>안동 맛집</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="38">
                                        <i class="fa-solid fa-bag-shopping fa-lg" style="color: #2cbdb8;"></i>
                                        <p>안동 쇼핑</p>
                                    </li>
                                    <li class="linkButton" data-content-type-id="14">
                                        <i class="fa-solid fa-icons fa-lg" style="color: #2cbdb8;"></i>
                                        <p>안동 문화시설</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="thumbnail-pic">
            <div class="thumbs owl-carousel">
                <div class="item" >
                    <img src="img/main1.jpg" alt="" >
                </div>
                <div class="item">
                    <img src="img/main2.jpg" alt="">
                </div>
                <div class="item">
                    <img src="img/main3.jpg" alt="">
                </div>
            </div>
        </div>
    </section>
    <!-- Hero Section End -->


    <!-- How It Works Section Begin -->
    <section class="howit-works spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>Search Location</span>
                        <h2>궁금한 곳을 검색해보세요</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="input-group input-group-lg">
                    <button id="locationTypeButton" class="btn btn-outline-dark dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">지역 선택</button>
                            <ul id="locationType" class="dropdown-menu">
                                <li><a class="dropdown-item" th:attr="data-area-code='4', data-sigungu-code='0'">대구</a></li>
                                <li><a class="dropdown-item" th:attr="data-area-code='6', data-sigungu-code='0'">부산</a></li>
                                <li><a class="dropdown-item" th:attr="data-area-code='7', data-sigungu-code='0'">울산</a></li>
                                <li><a class="dropdown-item" th:attr="data-area-code='35', data-sigungu-code='2'">경주</a></li>
                                <li><a class="dropdown-item" th:attr="data-area-code='35', data-sigungu-code='23'">포항</a></li>
                                <li><a class="dropdown-item" th:attr="data-area-code='35', data-sigungu-code='11'">안동</a></li>
                                <li><a class="dropdown-item" th:attr="data-area-code='36', data-sigungu-code='17'">통영</a></li>
                                <li><a class="dropdown-item" th:attr="data-area-code='36', data-sigungu-code='1'">거제</a></li>
                            </ul>
                    <input type="text" class="form-control" placeholder="가고싶은 곳을 검색해보아요" aria-label="Recipient's username" aria-describedby="button-addon2" id="search-input">
                    <button class="btn btn-outline-dark" type="button" id="button-addon2">검색</button>
                </div>
            </div>
        </div>
    </section>
    <!-- How It Works Section End -->

    <!-- Feature Section Begin -->
    <section class="feature-section spad">
       <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="properties-title">
                        <div class="section-title">
                            <span>Sale Regional Specialties </span>
                            <h2>특산물 추천</h2>
                        </div>
                        <div style="text-align: right;">
						    <a href="/specialtiesList" class="moreSpecialties">특산물 더보기</a>
						</div>
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="top-properties-carousel owl-carousel">
                <div class="single-top-properties" th:each="saleItemList : ${saleItem}">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="stp-pic">
                                <img th:src="${saleItemList.loadingImg}" alt="">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="stp-text">
                                <div class="s-text">For Sale</div>
                                <h2 th:text="${saleItemList.title}"></h2>
                                <div class="room-price">
                                    <span>세일가</span>
                                    <h4 th:text="${saleItemList.saleprice}"></h4>
                                </div>
                                <div class="room-price">
                                    <span>원 가</span>
                                    <h4 th:text="${saleItemList.price}"></h4>
                                </div>
                                <div class="properties-location"><i class="icon_pin"></i><span th:text="${saleItemList.locationName}"></span></div>
                                <br>
                                <ul class="room-features">
                                    <li>
                                        <i class="fa-solid fa-percent fa-2xl" style="color: #2cbdb8;"></i>
                                        <p th:text="|${saleItemList.discountRate} 할인|"></p>
                                    </li>
                                    <li>
                                        <i class="fa-solid fa-gifts fa-2xl" style="color: #2cbdb8;"></i>
                                        <p th:text="${saleItemList.type}"></p>
                                    </li>
                                    <li>
                                    	<i class="fa-solid fa-user-tag fa-2xl" style="color: #2cbdb8;"></i>
                                    	<p th:text="|${saleItemList.writerId}판매자|"></p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </section>
    <!-- Latest Blog Section End -->
	<script>
		//메인캐러셀 링크
        $('.linkButton').on('click', function() {
            let areaCode = $(this).parent().data('areaCode');
            let sigunguCode = $(this).parent().data('sigunguCode');
            let contentTypeId = $(this).data('contentTypeId');

            location.href = './localTourInfo/spotDetail?page=1' +
                '&areaCode=' + areaCode +
                '&contentTypeId=' + contentTypeId +
                '&sigunguCode=' + sigunguCode;
        })
        
        //검색정보 보내기
        $('#button-addon2').on('click', function(e){
            e.preventDefault();
            let searchKeyWord = $('#search-input').val();
            let areaCode = $('#locationTypeButton').data('areaCode');
            let sigunguCode = $('#locationTypeButton').data('sigunguCode');

            if($('#locationTypeButton').text() == '지역 선택'){
            	Swal.fire({
            		  icon: 'warning',                      
            		  title: '지역을 선택해주세요.'
            		});
                return;
            } else if(searchKeyWord.length<=1) {
            	Swal.fire({
          		  icon: 'warning',                      
          		  title: '한글자 이상 입력해주세요.'
          		});
                return;
            }

            window.location.href=window.location.origin + "/localTourInfo/search?searchKeyWord="+searchKeyWord+"&areaCode="+areaCode+"&sigunguCode="+sigunguCode;
        })
        
        // 드롭박스 버튼에 선택된 항목 텍스트 넣기
        $('#locationType li > a').on('click', function() {
            
            $('#locationTypeButton').text($(this).text());
            $('#locationTypeButton').data('areaCode', $(this).data('areaCode'));
            $('#locationTypeButton').data('sigunguCode', $(this).data('sigunguCode'));
        });

		//엔터처리
        document.getElementById('search-input').addEventListener("keyup", function(event) {
            if (event.key === "Enter") {
                document.getElementById('button-addon2').click();
            }
        });
	</script>
</div>
</body>
</html>