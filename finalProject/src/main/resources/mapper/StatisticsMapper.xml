<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.trip.finalProject.statistics.mapper.StatisticsMapper">
    <select id="getVisitorList" resultType="VisitorVO">
      SELECT *
      FROM chart_visitor
      WHERE year_month = #{prevMonth}
    </select>

	<select id="getVisitorRank" resultType="VisitorVO">
      <![CDATA[
	      SELECT *
			FROM (
			    SELECT *
			    FROM chart_visitor
			    ORDER BY visitor_number DESC
			    )
			WHERE year_month = #{prevMonth}
			AND ROWNUM <= 5
		]]>
    </select>
    
    <select id="getAttractionRank" resultType="AttractionVO">
      <![CDATA[
	      SELECT *
			FROM (
			    SELECT *
			    FROM chart_attraction
			    ORDER BY visitor_number DESC
			    )
			WHERE year_month = #{prevMonth}
			AND ROWNUM <= 5
		]]>
    </select>
  </mapper>